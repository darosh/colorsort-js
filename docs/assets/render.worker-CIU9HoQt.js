(function(){"use strict";const{min:pn,max:gn}=Math;var ct=(t,e=0,n=1)=>pn(gn(e,t),n),Pt=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=ct(t[e],0,255)):e===3&&(t[e]=ct(t[e],0,1));return t};const he={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])he[`[object ${t}]`]=t.toLowerCase();function E(t){return he[Object.prototype.toString.call(t)]||"object"}var C=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):E(t[0])=="object"&&e?e.split("").filter(n=>t[0][n]!==void 0).map(n=>t[0][n]):t[0].slice(0),lt=t=>{if(t.length<2)return null;const e=t.length-1;return E(t[e])=="string"?t[e].toLowerCase():null};const{PI:Lt,min:de,max:be}=Math,Y=t=>Math.round(t*100)/100,Dt=t=>Math.round(t*100)/100,U=Lt*2,Gt=Lt/3,kn=Lt/180,wn=180/Lt;function me(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}var L={format:{},autodetect:[]};let d=class{constructor(...e){const n=this;if(E(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=lt(e),o=!1;if(!r){o=!0,L.sorted||(L.autodetect=L.autodetect.sort((i,s)=>s.p-i.p),L.sorted=!0);for(let i of L.autodetect)if(r=i.test(...e),r)break}if(L.format[r]){const i=L.format[r].apply(null,o?e:e.slice(0,-1));n._rgb=Pt(i)}else throw new Error("unknown format: "+e);n._rgb.length===3&&n._rgb.push(1)}toString(){return E(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const yn="3.2.0",g=(...t)=>new d(...t);g.version=yn;const ft={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Mn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,_n=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,pe=t=>{if(t.match(Mn)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16),n=e>>16,r=e>>8&255,o=e&255;return[n,r,o,1]}if(t.match(_n)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16),n=e>>24&255,r=e>>16&255,o=e>>8&255,i=Math.round((e&255)/255*100)/100;return[n,r,o,i]}throw new Error(`unknown hex color: ${t}`)},{round:Ct}=Math,ge=(...t)=>{let[e,n,r,o]=C(t,"rgba"),i=lt(t)||"auto";o===void 0&&(o=1),i==="auto"&&(i=o<1?"rgba":"rgb"),e=Ct(e),n=Ct(n),r=Ct(r);let c="000000"+(e<<16|n<<8|r).toString(16);c=c.substr(c.length-6);let a="0"+Ct(o*255).toString(16);switch(a=a.substr(a.length-2),i.toLowerCase()){case"rgba":return`#${c}${a}`;case"argb":return`#${a}${c}`;default:return`#${c}`}};d.prototype.name=function(){const t=ge(this._rgb,"rgb");for(let e of Object.keys(ft))if(ft[e]===t)return e.toLowerCase();return t},L.format.named=t=>{if(t=t.toLowerCase(),ft[t])return pe(ft[t]);throw new Error("unknown color name: "+t)},L.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&E(t)==="string"&&ft[t.toLowerCase()])return"named"}}),d.prototype.alpha=function(t,e=!1){return t!==void 0&&E(t)==="number"?e?(this._rgb[3]=t,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1};const F={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},Ln=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function J(t){const e=Ln.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);F.labWhitePoint=t,F.Xn=e[0],F.Zn=e[1]}function Mt(){return F.labWhitePoint}const Kt=(...t)=>{t=C(t,"lab");const[e,n,r]=t,[o,i,s]=Cn(e,n,r),[c,a,l]=ke(o,i,s);return[c,a,l,t.length>3?t[3]:1]},Cn=(t,e,n)=>{const{kE:r,kK:o,kKE:i,Xn:s,Yn:c,Zn:a}=F,l=(t+16)/116,f=.002*e+l,u=l-.005*n,h=f*f*f,m=u*u*u,k=h>r?h:(116*f-16)/o,N=t>i?Math.pow((t+16)/116,3):t/o,p=m>r?m:(116*u-16)/o,y=k*s,K=N*c,R=p*a;return[y,K,R]},Ht=t=>{const e=Math.sign(t);return t=Math.abs(t),(t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055)*e},ke=(t,e,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:o,MtxXYZ2RGB:i,RefWhiteRGB:s,Xn:c,Yn:a,Zn:l}=F,f=c*r.m00+a*r.m10+l*r.m20,u=c*r.m01+a*r.m11+l*r.m21,h=c*r.m02+a*r.m12+l*r.m22,m=s.X*r.m00+s.Y*r.m10+s.Z*r.m20,k=s.X*r.m01+s.Y*r.m11+s.Z*r.m21,N=s.X*r.m02+s.Y*r.m12+s.Z*r.m22,p=(t*r.m00+e*r.m10+n*r.m20)*(m/f),y=(t*r.m01+e*r.m11+n*r.m21)*(k/u),K=(t*r.m02+e*r.m12+n*r.m22)*(N/h),R=p*o.m00+y*o.m10+K*o.m20,D=p*o.m01+y*o.m11+K*o.m21,G=p*o.m02+y*o.m12+K*o.m22,j=Ht(R*i.m00+D*i.m10+G*i.m20),O=Ht(R*i.m01+D*i.m11+G*i.m21),b=Ht(R*i.m02+D*i.m12+G*i.m22);return[j*255,O*255,b*255]},zt=(...t)=>{const[e,n,r,...o]=C(t,"rgb"),[i,s,c]=we(e,n,r),[a,l,f]=An(i,s,c);return[a,l,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function An(t,e,n){const{Xn:r,Yn:o,Zn:i,kE:s,kK:c}=F,a=t/r,l=e/o,f=n/i,u=a>s?Math.pow(a,1/3):(c*a+16)/116,h=l>s?Math.pow(l,1/3):(c*l+16)/116,m=f>s?Math.pow(f,1/3):(c*f+16)/116;return[116*h-16,500*(u-h),200*(h-m)]}function It(t){const e=Math.sign(t);return t=Math.abs(t),(t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const we=(t,e,n)=>{t=It(t/255),e=It(e/255),n=It(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:o,MtxAdaptMaI:i,Xn:s,Yn:c,Zn:a,As:l,Bs:f,Cs:u}=F;let h=t*r.m00+e*r.m10+n*r.m20,m=t*r.m01+e*r.m11+n*r.m21,k=t*r.m02+e*r.m12+n*r.m22;const N=s*o.m00+c*o.m10+a*o.m20,p=s*o.m01+c*o.m11+a*o.m21,y=s*o.m02+c*o.m12+a*o.m22;let K=h*o.m00+m*o.m10+k*o.m20,R=h*o.m01+m*o.m11+k*o.m21,D=h*o.m02+m*o.m12+k*o.m22;return K*=N/l,R*=p/f,D*=y/u,h=K*i.m00+R*i.m10+D*i.m20,m=K*i.m01+R*i.m11+D*i.m21,k=K*i.m02+R*i.m12+D*i.m22,[h,m,k]};d.prototype.lab=function(){return zt(this._rgb)},Object.assign(g,{lab:(...t)=>new d(...t,"lab"),getLabWhitePoint:Mt,setLabWhitePoint:J}),L.format.lab=Kt,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"lab"),E(t)==="array"&&t.length===3)return"lab"}}),d.prototype.darken=function(t=1){const e=this,n=e.lab();return n[0]-=F.Kn*t,new d(n,"lab").alpha(e.alpha(),!0)},d.prototype.brighten=function(t=1){return this.darken(-t)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(t){const[e,n]=t.split("."),r=this[e]();if(n){const o=e.indexOf(n)-(e.substr(0,2)==="ok"?2:0);if(o>-1)return r[o];throw new Error(`unknown channel ${n} in mode ${e}`)}else return r};const{pow:En}=Math,Nn=1e-7,On=20;d.prototype.luminance=function(t,e="rgb"){if(t!==void 0&&E(t)==="number"){if(t===0)return new d([0,0,0,this._rgb[3]],"rgb");if(t===1)return new d([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=On;const o=(s,c)=>{const a=s.interpolate(c,.5,e),l=a.luminance();return Math.abs(t-l)<Nn||!r--?a:l>t?o(s,a):o(a,c)},i=(n>t?o(new d([0,0,0]),this):o(this,new d([255,255,255]))).rgb();return new d([...i,this._rgb[3]])}return Sn(...this._rgb.slice(0,3))};const Sn=(t,e,n)=>(t=jt(t),e=jt(e),n=jt(n),.2126*t+.7152*e+.0722*n),jt=t=>(t/=255,t<=.03928?t/12.92:En((t+.055)/1.055,2.4));var H={},ut=(t,e,n=.5,...r)=>{let o=r[0]||"lrgb";if(!H[o]&&!r.length&&(o=Object.keys(H)[0]),!H[o])throw new Error(`interpolation mode ${o} is not defined`);return E(t)!=="object"&&(t=new d(t)),E(e)!=="object"&&(e=new d(e)),H[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};d.prototype.mix=d.prototype.interpolate=function(t,e=.5,...n){return ut(this,t,e,...n)},d.prototype.premultiply=function(t=!1){const e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new d([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};const{sin:vn,cos:xn}=Math,ye=(...t)=>{let[e,n,r]=C(t,"lch");return isNaN(r)&&(r=0),r=r*kn,[e,xn(r)*n,vn(r)*n]},Yt=(...t)=>{t=C(t,"lch");const[e,n,r]=t,[o,i,s]=ye(e,n,r),[c,a,l]=Kt(o,i,s);return[c,a,l,t.length>3?t[3]:1]},$n=(...t)=>{const e=me(C(t,"hcl"));return Yt(...e)},{sqrt:Bn,atan2:Rn,round:Pn}=Math,Me=(...t)=>{const[e,n,r]=C(t,"lab"),o=Bn(n*n+r*r);let i=(Rn(r,n)*wn+360)%360;return Pn(o*1e4)===0&&(i=Number.NaN),[e,o,i]},Tt=(...t)=>{const[e,n,r,...o]=C(t,"rgb"),[i,s,c]=zt(e,n,r),[a,l,f]=Me(i,s,c);return[a,l,f,...o.length>0&&o[0]<1?[o[0]]:[]]};d.prototype.lch=function(){return Tt(this._rgb)},d.prototype.hcl=function(){return me(Tt(this._rgb))},Object.assign(g,{lch:(...t)=>new d(...t,"lch"),hcl:(...t)=>new d(...t,"hcl")}),L.format.lch=Yt,L.format.hcl=$n,["lch","hcl"].forEach(t=>L.autodetect.push({p:2,test:(...e)=>{if(e=C(e,t),E(e)==="array"&&e.length===3)return t}})),d.prototype.saturate=function(t=1){const e=this,n=e.lch();return n[1]+=F.Kn*t,n[1]<0&&(n[1]=0),new d(n,"lch").alpha(e.alpha(),!0)},d.prototype.desaturate=function(t=1){return this.saturate(-t)},d.prototype.set=function(t,e,n=!1){const[r,o]=t.split("."),i=this[r]();if(o){const s=r.indexOf(o)-(r.substr(0,2)==="ok"?2:0);if(s>-1){if(E(e)=="string")switch(e.charAt(0)){case"+":i[s]+=+e;break;case"-":i[s]+=+e;break;case"*":i[s]*=+e.substr(1);break;case"/":i[s]/=+e.substr(1);break;default:i[s]=+e}else if(E(e)==="number")i[s]=e;else throw new Error("unsupported value for Color.set");const c=new d(i,r);return n?(this._rgb=c._rgb,this):c}throw new Error(`unknown channel ${o} in mode ${r}`)}else return i},d.prototype.tint=function(t=.5,...e){return ut(this,"white",t,...e)},d.prototype.shade=function(t=.5,...e){return ut(this,"black",t,...e)};const Dn=(t,e,n)=>{const r=t._rgb,o=e._rgb;return new d(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};H.rgb=Dn;const{sqrt:qt,pow:ht}=Math,Gn=(t,e,n)=>{const[r,o,i]=t._rgb,[s,c,a]=e._rgb;return new d(qt(ht(r,2)*(1-n)+ht(s,2)*n),qt(ht(o,2)*(1-n)+ht(c,2)*n),qt(ht(i,2)*(1-n)+ht(a,2)*n),"rgb")};H.lrgb=Gn;const Kn=(t,e,n)=>{const r=t.lab(),o=e.lab();return new d(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};H.lab=Kn;var dt=(t,e,n,r)=>{let o,i;r==="hsl"?(o=t.hsl(),i=e.hsl()):r==="hsv"?(o=t.hsv(),i=e.hsv()):r==="hcg"?(o=t.hcg(),i=e.hcg()):r==="hsi"?(o=t.hsi(),i=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",o=t.hcl(),i=e.hcl()):r==="oklch"&&(o=t.oklch().reverse(),i=e.oklch().reverse());let s,c,a,l,f,u;(r.substr(0,1)==="h"||r==="oklch")&&([s,a,f]=o,[c,l,u]=i);let h,m,k,N;return!isNaN(s)&&!isNaN(c)?(c>s&&c-s>180?N=c-(s+360):c<s&&s-c>180?N=c+360-s:N=c-s,m=s+n*N):isNaN(s)?isNaN(c)?m=Number.NaN:(m=c,(f==1||f==0)&&r!="hsv"&&(h=l)):(m=s,(u==1||u==0)&&r!="hsv"&&(h=a)),h===void 0&&(h=a+n*(l-a)),k=f+n*(u-f),r==="oklch"?new d([k,h,m],r):new d([m,h,k],r)};const _e=(t,e,n)=>dt(t,e,n,"lch");H.lch=_e,H.hcl=_e;const Hn=t=>{if(E(t)=="number"&&t>=0&&t<=16777215){const e=t>>16,n=t>>8&255,r=t&255;return[e,n,r,1]}throw new Error("unknown num color: "+t)},zn=(...t)=>{const[e,n,r]=C(t,"rgb");return(e<<16)+(n<<8)+r};d.prototype.num=function(){return zn(this._rgb)},Object.assign(g,{num:(...t)=>new d(...t,"num")}),L.format.num=Hn,L.autodetect.push({p:5,test:(...t)=>{if(t.length===1&&E(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});const In=(t,e,n)=>{const r=t.num(),o=e.num();return new d(r+n*(o-r),"num")};H.num=In;const{floor:jn}=Math,Yn=(...t)=>{t=C(t,"hcg");let[e,n,r]=t,o,i,s;r=r*255;const c=n*255;if(n===0)o=i=s=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const a=jn(e),l=e-a,f=r*(1-n),u=f+c*(1-l),h=f+c*l,m=f+c;switch(a){case 0:[o,i,s]=[m,h,f];break;case 1:[o,i,s]=[u,m,f];break;case 2:[o,i,s]=[f,m,h];break;case 3:[o,i,s]=[f,u,m];break;case 4:[o,i,s]=[h,f,m];break;case 5:[o,i,s]=[m,f,u];break}}return[o,i,s,t.length>3?t[3]:1]},Tn=(...t)=>{const[e,n,r]=C(t,"rgb"),o=de(e,n,r),i=be(e,n,r),s=i-o,c=s*100/255,a=o/(255-s)*100;let l;return s===0?l=Number.NaN:(e===i&&(l=(n-r)/s),n===i&&(l=2+(r-e)/s),r===i&&(l=4+(e-n)/s),l*=60,l<0&&(l+=360)),[l,c,a]};d.prototype.hcg=function(){return Tn(this._rgb)};const qn=(...t)=>new d(...t,"hcg");g.hcg=qn,L.format.hcg=Yn,L.autodetect.push({p:1,test:(...t)=>{if(t=C(t,"hcg"),E(t)==="array"&&t.length===3)return"hcg"}});const Xn=(t,e,n)=>dt(t,e,n,"hcg");H.hcg=Xn;const{cos:bt}=Math,Fn=(...t)=>{t=C(t,"hsi");let[e,n,r]=t,o,i,s;return isNaN(e)&&(e=0),isNaN(n)&&(n=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(s=(1-n)/3,o=(1+n*bt(U*e)/bt(Gt-U*e))/3,i=1-(s+o)):e<2/3?(e-=1/3,o=(1-n)/3,i=(1+n*bt(U*e)/bt(Gt-U*e))/3,s=1-(o+i)):(e-=2/3,i=(1-n)/3,s=(1+n*bt(U*e)/bt(Gt-U*e))/3,o=1-(i+s)),o=ct(r*o*3),i=ct(r*i*3),s=ct(r*s*3),[o*255,i*255,s*255,t.length>3?t[3]:1]},{min:Wn,sqrt:Zn,acos:Vn}=Math,Un=(...t)=>{let[e,n,r]=C(t,"rgb");e/=255,n/=255,r/=255;let o;const i=Wn(e,n,r),s=(e+n+r)/3,c=s>0?1-i/s:0;return c===0?o=NaN:(o=(e-n+(e-r))/2,o/=Zn((e-n)*(e-n)+(e-r)*(n-r)),o=Vn(o),r>n&&(o=U-o),o/=U),[o*360,c,s]};d.prototype.hsi=function(){return Un(this._rgb)};const Jn=(...t)=>new d(...t,"hsi");g.hsi=Jn,L.format.hsi=Fn,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"hsi"),E(t)==="array"&&t.length===3)return"hsi"}});const Qn=(t,e,n)=>dt(t,e,n,"hsi");H.hsi=Qn;const Xt=(...t)=>{t=C(t,"hsl");const[e,n,r]=t;let o,i,s;if(n===0)o=i=s=r*255;else{const c=[0,0,0],a=[0,0,0],l=r<.5?r*(1+n):r+n-r*n,f=2*r-l,u=e/360;c[0]=u+1/3,c[1]=u,c[2]=u-1/3;for(let h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?a[h]=f+(l-f)*6*c[h]:2*c[h]<1?a[h]=l:3*c[h]<2?a[h]=f+(l-f)*(2/3-c[h])*6:a[h]=f;[o,i,s]=[a[0]*255,a[1]*255,a[2]*255]}return t.length>3?[o,i,s,t[3]]:[o,i,s,1]},Le=(...t)=>{t=C(t,"rgba");let[e,n,r]=t;e/=255,n/=255,r/=255;const o=de(e,n,r),i=be(e,n,r),s=(i+o)/2;let c,a;return i===o?(c=0,a=Number.NaN):c=s<.5?(i-o)/(i+o):(i-o)/(2-i-o),e==i?a=(n-r)/(i-o):n==i?a=2+(r-e)/(i-o):r==i&&(a=4+(e-n)/(i-o)),a*=60,a<0&&(a+=360),t.length>3&&t[3]!==void 0?[a,c,s,t[3]]:[a,c,s]};d.prototype.hsl=function(){return Le(this._rgb)};const tr=(...t)=>new d(...t,"hsl");g.hsl=tr,L.format.hsl=Xt,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"hsl"),E(t)==="array"&&t.length===3)return"hsl"}});const er=(t,e,n)=>dt(t,e,n,"hsl");H.hsl=er;const{floor:nr}=Math,rr=(...t)=>{t=C(t,"hsv");let[e,n,r]=t,o,i,s;if(r*=255,n===0)o=i=s=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const c=nr(e),a=e-c,l=r*(1-n),f=r*(1-n*a),u=r*(1-n*(1-a));switch(c){case 0:[o,i,s]=[r,u,l];break;case 1:[o,i,s]=[f,r,l];break;case 2:[o,i,s]=[l,r,u];break;case 3:[o,i,s]=[l,f,r];break;case 4:[o,i,s]=[u,l,r];break;case 5:[o,i,s]=[r,l,f];break}}return[o,i,s,t.length>3?t[3]:1]},{min:or,max:sr}=Math,ir=(...t)=>{t=C(t,"rgb");let[e,n,r]=t;const o=or(e,n,r),i=sr(e,n,r),s=i-o;let c,a,l;return l=i/255,i===0?(c=Number.NaN,a=0):(a=s/i,e===i&&(c=(n-r)/s),n===i&&(c=2+(r-e)/s),r===i&&(c=4+(e-n)/s),c*=60,c<0&&(c+=360)),[c,a,l]};d.prototype.hsv=function(){return ir(this._rgb)};const cr=(...t)=>new d(...t,"hsv");g.hsv=cr,L.format.hsv=rr,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"hsv"),E(t)==="array"&&t.length===3)return"hsv"}});const ar=(t,e,n)=>dt(t,e,n,"hsv");H.hsv=ar;function At(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(s=>[s]));let r=e[0].length,o=e[0].map((s,c)=>e.map(a=>a[c])),i=t.map(s=>o.map(c=>Array.isArray(s)?s.reduce((a,l,f)=>a+l*(c[f]||0),0):c.reduce((a,l)=>a+l*s,0)));return n===1&&(i=i[0]),r===1?i.map(s=>s[0]):i}const Ft=(...t)=>{t=C(t,"lab");const[e,n,r,...o]=t,[i,s,c]=lr([e,n,r]),[a,l,f]=ke(i,s,c);return[a,l,f,...o.length>0&&o[0]<1?[o[0]]:[]]};function lr(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=At(n,t);return At(e,r.map(o=>o**3))}const Wt=(...t)=>{const[e,n,r,...o]=C(t,"rgb"),i=we(e,n,r);return[...fr(i),...o.length>0&&o[0]<1?[o[0]]:[]]};function fr(t){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=At(e,t);return At(n,r.map(o=>Math.cbrt(o)))}d.prototype.oklab=function(){return Wt(this._rgb)},Object.assign(g,{oklab:(...t)=>new d(...t,"oklab")}),L.format.oklab=Ft,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"oklab"),E(t)==="array"&&t.length===3)return"oklab"}});const ur=(t,e,n)=>{const r=t.oklab(),o=e.oklab();return new d(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")};H.oklab=ur;const hr=(t,e,n)=>dt(t,e,n,"oklch");H.oklch=hr;const{pow:Zt,sqrt:Vt,PI:Ut,cos:Ce,sin:Ae,atan2:dr}=Math;var br=(t,e="lrgb",n=null)=>{const r=t.length;n||(n=Array.from(new Array(r)).map(()=>1));const o=r/n.reduce(function(u,h){return u+h});if(n.forEach((u,h)=>{n[h]*=o}),t=t.map(u=>new d(u)),e==="lrgb")return mr(t,n);const i=t.shift(),s=i.get(e),c=[];let a=0,l=0;for(let u=0;u<s.length;u++)if(s[u]=(s[u]||0)*n[0],c.push(isNaN(s[u])?0:n[0]),e.charAt(u)==="h"&&!isNaN(s[u])){const h=s[u]/180*Ut;a+=Ce(h)*n[0],l+=Ae(h)*n[0]}let f=i.alpha()*n[0];t.forEach((u,h)=>{const m=u.get(e);f+=u.alpha()*n[h+1];for(let k=0;k<s.length;k++)if(!isNaN(m[k]))if(c[k]+=n[h+1],e.charAt(k)==="h"){const N=m[k]/180*Ut;a+=Ce(N)*n[h+1],l+=Ae(N)*n[h+1]}else s[k]+=m[k]*n[h+1]});for(let u=0;u<s.length;u++)if(e.charAt(u)==="h"){let h=dr(l/c[u],a/c[u])/Ut*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;s[u]=h}else s[u]=s[u]/c[u];return f/=r,new d(s,e).alpha(f>.99999?1:f,!0)};const mr=(t,e)=>{const n=t.length,r=[0,0,0,0];for(let o=0;o<t.length;o++){const i=t[o],s=e[o]/n,c=i._rgb;r[0]+=Zt(c[0],2)*s,r[1]+=Zt(c[1],2)*s,r[2]+=Zt(c[2],2)*s,r[3]+=c[3]*s}return r[0]=Vt(r[0]),r[1]=Vt(r[1]),r[2]=Vt(r[2]),r[3]>.9999999&&(r[3]=1),new d(Pt(r))},{pow:pr}=Math;function Et(t){let e="rgb",n=g("#ccc"),r=0,o=[0,1],i=[0,1],s=[],c=[0,0],a=!1,l=[],f=!1,u=0,h=1,m=!1,k={},N=!0,p=1;const y=function(b){if(b=b||["#fff","#000"],b&&E(b)==="string"&&g.brewer&&g.brewer[b.toLowerCase()]&&(b=g.brewer[b.toLowerCase()]),E(b)==="array"){b.length===1&&(b=[b[0],b[0]]),b=b.slice(0);for(let w=0;w<b.length;w++)b[w]=g(b[w]);s.length=0;for(let w=0;w<b.length;w++)s.push(w/(b.length-1))}return j(),l=b},K=function(b){if(a!=null){const w=a.length-1;let A=0;for(;A<w&&b>=a[A];)A++;return A-1}return 0};let R=b=>b,D=b=>b;const G=function(b,w){let A,M;if(w==null&&(w=!1),isNaN(b)||b===null)return n;w?M=b:a&&a.length>2?M=K(b)/(a.length-2):h!==u?M=(b-u)/(h-u):M=1,M=D(M),w||(M=R(M)),p!==1&&(M=pr(M,p)),M=c[0]+M*(1-c[0]-c[1]),M=ct(M,0,1);const S=Math.floor(M*1e4);if(N&&k[S])A=k[S];else{if(E(l)==="array")for(let _=0;_<s.length;_++){const I=s[_];if(M<=I){A=l[_];break}if(M>=I&&_===s.length-1){A=l[_];break}if(M>I&&M<s[_+1]){M=(M-I)/(s[_+1]-I),A=g.interpolate(l[_],l[_+1],M,e);break}}else E(l)==="function"&&(A=l(M));N&&(k[S]=A)}return A};var j=()=>k={};y(t);const O=function(b){const w=g(G(b));return f&&w[f]?w[f]():w};return O.classes=function(b){if(b!=null){if(E(b)==="array")a=b,o=[b[0],b[b.length-1]];else{const w=g.analyze(o);b===0?a=[w.min,w.max]:a=g.limits(w,"e",b)}return O}return a},O.domain=function(b){if(!arguments.length)return i;i=b.slice(0),u=b[0],h=b[b.length-1],s=[];const w=l.length;if(b.length===w&&u!==h)for(let A of Array.from(b))s.push((A-u)/(h-u));else{for(let A=0;A<w;A++)s.push(A/(w-1));if(b.length>2){const A=b.map((S,_)=>_/(b.length-1)),M=b.map(S=>(S-u)/(h-u));M.every((S,_)=>A[_]===S)||(D=S=>{if(S<=0||S>=1)return S;let _=0;for(;S>=M[_+1];)_++;const I=(S-M[_])/(M[_+1]-M[_]);return A[_]+I*(A[_+1]-A[_])})}}return o=[u,h],O},O.mode=function(b){return arguments.length?(e=b,j(),O):e},O.range=function(b,w){return y(b),O},O.out=function(b){return f=b,O},O.spread=function(b){return arguments.length?(r=b,O):r},O.correctLightness=function(b){return b==null&&(b=!0),m=b,j(),m?R=function(w){const A=G(0,!0).lab()[0],M=G(1,!0).lab()[0],S=A>M;let _=G(w,!0).lab()[0];const I=A+(M-A)*w;let it=_-I,Bt=0,_t=1,Rt=20;for(;Math.abs(it)>.01&&Rt-- >0;)(function(){return S&&(it*=-1),it<0?(Bt=w,w+=(_t-w)*.5):(_t=w,w+=(Bt-w)*.5),_=G(w,!0).lab()[0],it=_-I})();return w}:R=w=>w,O},O.padding=function(b){return b!=null?(E(b)==="number"&&(b=[b,b]),c=b,O):c},O.colors=function(b,w){arguments.length<2&&(w="hex");let A=[];if(arguments.length===0)A=l.slice(0);else if(b===1)A=[O(.5)];else if(b>1){const M=o[0],S=o[1]-M;A=gr(0,b).map(_=>O(M+_/(b-1)*S))}else{t=[];let M=[];if(a&&a.length>2)for(let S=1,_=a.length,I=1<=_;I?S<_:S>_;I?S++:S--)M.push((a[S-1]+a[S])*.5);else M=o;A=M.map(S=>O(S))}return g[w]&&(A=A.map(M=>M[w]())),A},O.cache=function(b){return b!=null?(N=b,O):N},O.gamma=function(b){return b!=null?(p=b,O):p},O.nodata=function(b){return b!=null?(n=g(b),O):n},O}function gr(t,e,n){let r=[],o=t<e,i=e;for(let s=t;o?s<i:s>i;o?s++:s--)r.push(s);return r}const kr=function(t){let e=[1,1];for(let n=1;n<t;n++){let r=[1];for(let o=1;o<=e.length;o++)r[o]=(e[o]||0)+e[o-1];e=r}return e},wr=function(t){let e,n,r,o;if(t=t.map(i=>new d(i)),t.length===2)[n,r]=t.map(i=>i.lab()),e=function(i){const s=[0,1,2].map(c=>n[c]+i*(r[c]-n[c]));return new d(s,"lab")};else if(t.length===3)[n,r,o]=t.map(i=>i.lab()),e=function(i){const s=[0,1,2].map(c=>(1-i)*(1-i)*n[c]+2*(1-i)*i*r[c]+i*i*o[c]);return new d(s,"lab")};else if(t.length===4){let i;[n,r,o,i]=t.map(s=>s.lab()),e=function(s){const c=[0,1,2].map(a=>(1-s)*(1-s)*(1-s)*n[a]+3*(1-s)*(1-s)*s*r[a]+3*(1-s)*s*s*o[a]+s*s*s*i[a]);return new d(c,"lab")}}else if(t.length>=5){let i,s,c;i=t.map(a=>a.lab()),c=t.length-1,s=kr(c),e=function(a){const l=1-a,f=[0,1,2].map(u=>i.reduce((h,m,k)=>h+s[k]*l**(c-k)*a**k*m[u],0));return new d(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e};var yr=t=>{const e=wr(t);return e.scale=()=>Et(e),e};const{round:Ee}=Math;d.prototype.rgb=function(t=!0){return t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ee)},d.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,n)=>n<3?t===!1?e:Ee(e):e)},Object.assign(g,{rgb:(...t)=>new d(...t,"rgb")}),L.format.rgb=(...t)=>{const e=C(t,"rgba");return e[3]===void 0&&(e[3]=1),e},L.autodetect.push({p:3,test:(...t)=>{if(t=C(t,"rgba"),E(t)==="array"&&(t.length===3||t.length===4&&E(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});const q=(t,e,n)=>{if(!q[n])throw new Error("unknown blend mode "+n);return q[n](t,e)},rt=t=>(e,n)=>{const r=g(n).rgb(),o=g(e).rgb();return g.rgb(t(r,o))},ot=t=>(e,n)=>{const r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r},Mr=t=>t,_r=(t,e)=>t*e/255,Lr=(t,e)=>t>e?e:t,Cr=(t,e)=>t>e?t:e,Ar=(t,e)=>255*(1-(1-t/255)*(1-e/255)),Er=(t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)),Nr=(t,e)=>255*(1-(1-e/255)/(t/255)),Or=(t,e)=>t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t);q.normal=rt(ot(Mr)),q.multiply=rt(ot(_r)),q.screen=rt(ot(Ar)),q.overlay=rt(ot(Er)),q.darken=rt(ot(Lr)),q.lighten=rt(ot(Cr)),q.dodge=rt(ot(Or)),q.burn=rt(ot(Nr));const{pow:Sr,sin:vr,cos:xr}=Math;function $r(t=300,e=-1.5,n=1,r=1,o=[0,1]){let i=0,s;E(o)==="array"?s=o[1]-o[0]:(s=0,o=[o,o]);const c=function(a){const l=U*((t+120)/360+e*a),f=Sr(o[0]+s*a,r),h=(i!==0?n[0]+a*i:n)*f*(1-f)/2,m=xr(l),k=vr(l),N=f+h*(-.14861*m+1.78277*k),p=f+h*(-.29227*m-.90649*k),y=f+h*(1.97294*m);return g(Pt([N*255,p*255,y*255,1]))};return c.start=function(a){return a==null?t:(t=a,c)},c.rotations=function(a){return a==null?e:(e=a,c)},c.gamma=function(a){return a==null?r:(r=a,c)},c.hue=function(a){return a==null?n:(n=a,E(n)==="array"?(i=n[1]-n[0],i===0&&(n=n[1])):i=0,c)},c.lightness=function(a){return a==null?o:(E(a)==="array"?(o=a,s=a[1]-a[0]):(o=[a,a],s=0),c)},c.scale=()=>g.scale(c),c.hue(n),c}const Br="0123456789abcdef",{floor:Rr,random:Pr}=Math;var Dr=(t=Pr)=>{let e="#";for(let n=0;n<6;n++)e+=Br.charAt(Rr(t()*16));return new d(e,"hex")};const{log:Ne,pow:Gr,floor:Kr,abs:Hr}=Math;function Oe(t,e=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return E(t)==="object"&&(t=Object.values(t)),t.forEach(r=>{e&&E(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,o)=>Se(n,r,o),n}function Se(t,e="equal",n=7){E(t)=="array"&&(t=Oe(t));const{min:r,max:o}=t,i=t.values.sort((c,a)=>c-a);if(n===1)return[r,o];const s=[];if(e.substr(0,1)==="c"&&(s.push(r),s.push(o)),e.substr(0,1)==="e"){s.push(r);for(let c=1;c<n;c++)s.push(r+c/n*(o-r));s.push(o)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const c=Math.LOG10E*Ne(r),a=Math.LOG10E*Ne(o);s.push(r);for(let l=1;l<n;l++)s.push(Gr(10,c+l/n*(a-c)));s.push(o)}else if(e.substr(0,1)==="q"){s.push(r);for(let c=1;c<n;c++){const a=(i.length-1)*c/n,l=Kr(a);if(l===a)s.push(i[l]);else{const f=a-l;s.push(i[l]*(1-f)+i[l+1]*f)}}s.push(o)}else if(e.substr(0,1)==="k"){let c;const a=i.length,l=new Array(a),f=new Array(n);let u=!0,h=0,m=null;m=[],m.push(r);for(let p=1;p<n;p++)m.push(r+p/n*(o-r));for(m.push(o);u;){for(let y=0;y<n;y++)f[y]=0;for(let y=0;y<a;y++){const K=i[y];let R=Number.MAX_VALUE,D;for(let G=0;G<n;G++){const j=Hr(m[G]-K);j<R&&(R=j,D=G),f[D]++,l[y]=D}}const p=new Array(n);for(let y=0;y<n;y++)p[y]=null;for(let y=0;y<a;y++)c=l[y],p[c]===null?p[c]=i[y]:p[c]+=i[y];for(let y=0;y<n;y++)p[y]*=1/f[y];u=!1;for(let y=0;y<n;y++)if(p[y]!==m[y]){u=!0;break}m=p,h++,h>200&&(u=!1)}const k={};for(let p=0;p<n;p++)k[p]=[];for(let p=0;p<a;p++)c=l[p],k[c].push(i[p]);let N=[];for(let p=0;p<n;p++)N.push(k[p][0]),N.push(k[p][k[p].length-1]);N=N.sort((p,y)=>p-y),s.push(N[0]);for(let p=1;p<N.length;p+=2){const y=N[p];!isNaN(y)&&s.indexOf(y)===-1&&s.push(y)}}return s}var zr=(t,e)=>{t=new d(t),e=new d(e);const n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};const ve=.027,Ir=5e-4,jr=.1,xe=1.14,Nt=.022,$e=1.414;var Yr=(t,e)=>{t=new d(t),e=new d(e),t.alpha()<1&&(t=ut(e,t,t.alpha(),"rgb"));const n=Be(...t.rgb()),r=Be(...e.rgb()),o=n>=Nt?n:n+Math.pow(Nt-n,$e),i=r>=Nt?r:r+Math.pow(Nt-r,$e),s=Math.pow(i,.56)-Math.pow(o,.57),c=Math.pow(i,.65)-Math.pow(o,.62),a=Math.abs(i-o)<Ir?0:o<i?s*xe:c*xe;return(Math.abs(a)<jr?0:a>0?a-ve:a+ve)*100};function Be(t,e,n){return .2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:Q,pow:$,min:Tr,max:qr,atan2:Re,abs:Pe,cos:Ot,sin:De,exp:Xr,PI:Ge}=Math;function Fr(t,e,n=1,r=1,o=1){var i=function(ue){return 360*ue/(2*Ge)},s=function(ue){return 2*Ge*ue/360};t=new d(t),e=new d(e);const[c,a,l]=Array.from(t.lab()),[f,u,h]=Array.from(e.lab()),m=(c+f)/2,k=Q($(a,2)+$(l,2)),N=Q($(u,2)+$(h,2)),p=(k+N)/2,y=.5*(1-Q($(p,7)/($(p,7)+$(25,7)))),K=a*(1+y),R=u*(1+y),D=Q($(K,2)+$(l,2)),G=Q($(R,2)+$(h,2)),j=(D+G)/2,O=i(Re(l,K)),b=i(Re(h,R)),w=O>=0?O:O+360,A=b>=0?b:b+360,M=Pe(w-A)>180?(w+A+360)/2:(w+A)/2,S=1-.17*Ot(s(M-30))+.24*Ot(s(2*M))+.32*Ot(s(3*M+6))-.2*Ot(s(4*M-63));let _=A-w;_=Pe(_)<=180?_:A<=w?_+360:_-360,_=2*Q(D*G)*De(s(_)/2);const I=f-c,it=G-D,Bt=1+.015*$(m-50,2)/Q(20+$(m-50,2)),_t=1+.045*j,Rt=1+.015*j*S,ks=30*Xr(-$((M-275)/25,2)),ws=-(2*Q($(j,7)/($(j,7)+$(25,7))))*De(2*s(ks)),ys=Q($(I/(n*Bt),2)+$(it/(r*_t),2)+$(_/(o*Rt),2)+ws*(it/(r*_t))*(_/(o*Rt)));return qr(0,Tr(100,ys))}function Wr(t,e,n="lab"){t=new d(t),e=new d(e);const r=t.get(n),o=e.get(n);let i=0;for(let s in r){const c=(r[s]||0)-(o[s]||0);i+=c*c}return Math.sqrt(i)}var Zr=(...t)=>{try{return new d(...t),!0}catch{return!1}},Vr={cool(){return Et([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot(){return Et(["#000","#f00","#ff0","#fff"]).mode("rgb")}};const Jt={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ke=Object.keys(Jt),He=new Map(Ke.map(t=>[t.toLowerCase(),t])),Ur=typeof Proxy=="function"?new Proxy(Jt,{get(t,e){const n=e.toLowerCase();if(He.has(n))return t[He.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Ke)}}):Jt,Jr=(...t)=>{t=C(t,"cmyk");const[e,n,r,o]=t,i=t.length>4?t[4]:1;return o===1?[0,0,0,i]:[e>=1?0:255*(1-e)*(1-o),n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i]},{max:ze}=Math,Qr=(...t)=>{let[e,n,r]=C(t,"rgb");e=e/255,n=n/255,r=r/255;const o=1-ze(e,ze(n,r)),i=o<1?1/(1-o):0,s=(1-e-o)*i,c=(1-n-o)*i,a=(1-r-o)*i;return[s,c,a,o]};d.prototype.cmyk=function(){return Qr(this._rgb)},Object.assign(g,{cmyk:(...t)=>new d(...t,"cmyk")}),L.format.cmyk=Jr,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"cmyk"),E(t)==="array"&&t.length===4)return"cmyk"}});const to=(...t)=>{const e=C(t,"hsla");let n=lt(t)||"lsa";return e[0]=Y(e[0]||0)+"deg",e[1]=Y(e[1]*100)+"%",e[2]=Y(e[2]*100)+"%",n==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),n="hsla"):e.length=3,`${n.substr(0,3)}(${e.join(" ")})`},eo=(...t)=>{const e=C(t,"lab");let n=lt(t)||"lab";return e[0]=Y(e[0])+"%",e[1]=Y(e[1]),e[2]=Y(e[2]),n==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},no=(...t)=>{const e=C(t,"lch");let n=lt(t)||"lab";return e[0]=Y(e[0])+"%",e[1]=Y(e[1]),e[2]=isNaN(e[2])?"none":Y(e[2])+"deg",n==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},ro=(...t)=>{const e=C(t,"lab");return e[0]=Y(e[0]*100)+"%",e[1]=Dt(e[1]),e[2]=Dt(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},Ie=(...t)=>{const[e,n,r,...o]=C(t,"rgb"),[i,s,c]=Wt(e,n,r),[a,l,f]=Me(i,s,c);return[a,l,f,...o.length>0&&o[0]<1?[o[0]]:[]]},oo=(...t)=>{const e=C(t,"lch");return e[0]=Y(e[0]*100)+"%",e[1]=Dt(e[1]),e[2]=isNaN(e[2])?"none":Y(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:Qt}=Math,so=(...t)=>{const e=C(t,"rgba");let n=lt(t)||"rgb";if(n.substr(0,3)==="hsl")return to(Le(e),n);if(n.substr(0,3)==="lab"){const r=Mt();J("d50");const o=eo(zt(e),n);return J(r),o}if(n.substr(0,3)==="lch"){const r=Mt();J("d50");const o=no(Tt(e),n);return J(r),o}return n.substr(0,5)==="oklab"?ro(Wt(e)):n.substr(0,5)==="oklch"?oo(Ie(e)):(e[0]=Qt(e[0]),e[1]=Qt(e[1]),e[2]=Qt(e[2]),(n==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),n="rgba"),`${n.substr(0,3)}(${e.slice(0,n==="rgb"?3:4).join(" ")})`)},je=(...t)=>{t=C(t,"lch");const[e,n,r,...o]=t,[i,s,c]=ye(e,n,r),[a,l,f]=Ft(i,s,c);return[a,l,f,...o.length>0&&o[0]<1?[o[0]]:[]]},tt=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,X=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,St=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,T=/\s*/.source,mt=/\s+/.source,te=/\s*,\s*/.source,vt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,pt=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Ye=new RegExp("^rgba?\\("+T+[tt,tt,tt].join(mt)+pt+"\\)$"),Te=new RegExp("^rgb\\("+T+[tt,tt,tt].join(te)+T+"\\)$"),qe=new RegExp("^rgba\\("+T+[tt,tt,tt,X].join(te)+T+"\\)$"),Xe=new RegExp("^hsla?\\("+T+[vt,St,St].join(mt)+pt+"\\)$"),Fe=new RegExp("^hsl?\\("+T+[vt,St,St].join(te)+T+"\\)$"),We=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ze=new RegExp("^lab\\("+T+[X,X,X].join(mt)+pt+"\\)$"),Ve=new RegExp("^lch\\("+T+[X,X,vt].join(mt)+pt+"\\)$"),Ue=new RegExp("^oklab\\("+T+[X,X,X].join(mt)+pt+"\\)$"),Je=new RegExp("^oklch\\("+T+[X,X,vt].join(mt)+pt+"\\)$"),{round:Qe}=Math,gt=t=>t.map((e,n)=>n<=2?ct(Qe(e),0,255):e),B=(t,e=0,n=100,r=!1)=>(typeof t=="string"&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,r?t=e+(t+1)*.5*(n-e):t=e+t*(n-e)),+t),z=(t,e)=>t==="none"?e:t,ee=t=>{if(t=t.toLowerCase().trim(),t==="transparent")return[0,0,0,0];let e;if(L.format.named)try{return L.format.named(t)}catch{}if((e=t.match(Ye))||(e=t.match(Te))){let n=e.slice(1,4);for(let o=0;o<3;o++)n[o]=+B(z(n[o],0),0,255);n=gt(n);const r=e[4]!==void 0?+B(e[4],0,1):1;return n[3]=r,n}if(e=t.match(qe)){const n=e.slice(1,5);for(let r=0;r<4;r++)n[r]=+B(n[r],0,255);return n}if((e=t.match(Xe))||(e=t.match(Fe))){const n=e.slice(1,4);n[0]=+z(n[0].replace("deg",""),0),n[1]=+B(z(n[1],0),0,100)*.01,n[2]=+B(z(n[2],0),0,100)*.01;const r=gt(Xt(n)),o=e[4]!==void 0?+B(e[4],0,1):1;return r[3]=o,r}if(e=t.match(We)){const n=e.slice(1,4);n[1]*=.01,n[2]*=.01;const r=Xt(n);for(let o=0;o<3;o++)r[o]=Qe(r[o]);return r[3]=+e[4],r}if(e=t.match(Ze)){const n=e.slice(1,4);n[0]=B(z(n[0],0),0,100),n[1]=B(z(n[1],0),-125,125,!0),n[2]=B(z(n[2],0),-125,125,!0);const r=Mt();J("d50");const o=gt(Kt(n));J(r);const i=e[4]!==void 0?+B(e[4],0,1):1;return o[3]=i,o}if(e=t.match(Ve)){const n=e.slice(1,4);n[0]=B(n[0],0,100),n[1]=B(z(n[1],0),0,150,!1),n[2]=+z(n[2].replace("deg",""),0);const r=Mt();J("d50");const o=gt(Yt(n));J(r);const i=e[4]!==void 0?+B(e[4],0,1):1;return o[3]=i,o}if(e=t.match(Ue)){const n=e.slice(1,4);n[0]=B(z(n[0],0),0,1),n[1]=B(z(n[1],0),-.4,.4,!0),n[2]=B(z(n[2],0),-.4,.4,!0);const r=gt(Ft(n)),o=e[4]!==void 0?+B(e[4],0,1):1;return r[3]=o,r}if(e=t.match(Je)){const n=e.slice(1,4);n[0]=B(z(n[0],0),0,1),n[1]=B(z(n[1],0),0,.4,!1),n[2]=+z(n[2].replace("deg",""),0);const r=gt(je(n)),o=e[4]!==void 0?+B(e[4],0,1):1;return r[3]=o,r}};ee.test=t=>Ye.test(t)||Xe.test(t)||Ze.test(t)||Ve.test(t)||Ue.test(t)||Je.test(t)||Te.test(t)||qe.test(t)||Fe.test(t)||We.test(t)||t==="transparent",d.prototype.css=function(t){return so(this._rgb,t)};const io=(...t)=>new d(...t,"css");g.css=io,L.format.css=ee,L.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&E(t)==="string"&&ee.test(t))return"css"}}),L.format.gl=(...t)=>{const e=C(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const co=(...t)=>new d(...t,"gl");g.gl=co,d.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]},d.prototype.hex=function(t){return ge(this._rgb,t)};const ao=(...t)=>new d(...t,"hex");g.hex=ao,L.format.hex=pe,L.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&E(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:xt}=Math,tn=t=>{const e=t/100;let n,r,o;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*xt(r),o=e<20?0:-254.76935184120902+.8274096064007395*(o=e-10)+115.67994401066147*xt(o)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*xt(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*xt(r),o=255),[n,r,o,1]},{round:lo}=Math,fo=(...t)=>{const e=C(t,"rgb"),n=e[0],r=e[2];let o=1e3,i=4e4;const s=.4;let c;for(;i-o>s;){c=(i+o)*.5;const a=tn(c);a[2]/a[0]>=r/n?i=c:o=c}return lo(c)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return fo(this._rgb)};const ne=(...t)=>new d(...t,"temp");Object.assign(g,{temp:ne,kelvin:ne,temperature:ne}),L.format.temp=L.format.kelvin=L.format.temperature=tn,d.prototype.oklch=function(){return Ie(this._rgb)},Object.assign(g,{oklch:(...t)=>new d(...t,"oklch")}),L.format.oklch=je,L.autodetect.push({p:2,test:(...t)=>{if(t=C(t,"oklch"),E(t)==="array"&&t.length===3)return"oklch"}}),Object.assign(g,{analyze:Oe,average:br,bezier:yr,blend:q,brewer:Ur,Color:d,colors:ft,contrast:zr,contrastAPCA:Yr,cubehelix:$r,deltaE:Fr,distance:Wr,input:L,interpolate:ut,limits:Se,mix:ut,random:Dr,scale:Et,scales:Vr,valid:Zr});const re=new Map;function en(t){return e=>{if(re.has(e))return re.get(e);const n=t(e);return re.set(e,n),n}}const W=en(t=>g(t).oklab()),nn=en(t=>g.oklab(...t).hex());function kt(t,e){const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function st(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return e===0?[0,0,0]:[t[0]/e,t[1]/e,t[2]/e]}function Z(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]}function wt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function uo(t){let e=1/0,n=null,r=null;for(let o=0;o<t.length;o++)for(let i=o+1;i<t.length;i++){const s=t[o][0]-t[i][0],c=t[o][1]-t[i][1],a=t[o][2]-t[i][2],l=Math.sqrt(s*s+c*c+a*a);l<e&&(e=l,n=t[o],r=t[i])}return[n,r]}function oe(t){let e=-1/0,n=null,r=null,o=null;for(let i=0;i<t.length;i++)for(let s=0;s<t.length;s++)if(s!==i)for(let c=0;c<t.length;c++){if(c===i||c===s)continue;const a=st(Z(t[s],t[i])),l=st(Z(t[c],t[s])),f=wt(a,l);f>e&&(e=f,n=t[i],r=t[s],o=t[c])}return kt(n,r)<kt(r,o)?o=r:n=r,[n,o]}function ho(t){return[(t[0]+128)/255,(t[1]+128)/255,(t[2]+128)/255]}function P(t,e,n="gl"){const r=new Map;t.map(s=>n==="oklab"?[W(s),s]:n==="lab-norm"?[ho(g(s).lab()),s]:[g(s).get(n),s]).forEach(([s,c])=>{r.set(s,c)});const o=[...r.keys()];return e(o).map(s=>r.get(s))}function rn(t,e,n,r=8){let o=0;for(let i=r-1;i>=0;i--){const s=1<<i,c=t&s?1:0,a=e&s?1:0,l=n&s?1:0;o=o<<3|bo(c,a,l)}return o}function bo(t,e,n){return t<<2|e<<1|n}function se(t,e=8){return[...t].sort((n,r)=>{const o=rn(n[0],n[1],n[2],e),i=rn(r[0],r[1],r[2],e);return o-i})}function mo(t){return P(t,se,"gl")}function po(t){return P(t,se,"oklab")}function go(t){return P(t,se,"lab-norm")}class ko{constructor(e={}){this.populationSize=e.populationSize||100,this.generations=e.generations||200,this.maxStagnation=e.maxStagnation||20,this.mutationRate=e.mutationRate||.1,this.crossoverRate=e.crossoverRate||.9,this.eliteSize=e.eliteSize||5,this.tournamentSize=e.tournamentSize||5,this.random=e.random||this.random,this.fitnessFunc=e.fitness||(()=>0),this.seedFunc=e.seed||(()=>[]),this.fitnessCompare=e.compare||((n,r)=>r-n),this.onGeneration=e.onGeneration,this.population=[],this.currentGeneration=0,this.bestIndividual=null,this.bestFitness=-1/0,this.peakGeneration=0}initializePopulation(){this.population=[];for(let e=0;e<this.populationSize;e++){const n=this.seedFunc(),r=this.fitnessFunc(n);this.population.push({genome:n,fitness:r})}this.sortPopulation(),this.updateBest()}sortPopulation(){this.population.sort((e,n)=>this.fitnessCompare(e.fitness,n.fitness))}updateBest(){(this.bestFitness===-1/0||this.fitnessCompare(this.population[0].fitness,this.bestFitness)<0)&&(this.peakGeneration=this.currentGeneration,this.bestFitness=this.population[0].fitness,this.bestIndividual=[...this.population[0].genome])}tournamentSelect(){const e=[];for(let n=0;n<this.tournamentSize;n++){const r=Math.floor(this.random()*this.population.length);e.push(this.population[r])}return e.sort((n,r)=>this.fitnessCompare(n.fitness,r.fitness)),e[0]}orderCrossover(e,n){const r=e.length,o=Math.floor(this.random()*r),i=o+Math.floor(this.random()*(r-o)),s=Array(r).fill(null);for(let l=o;l<=i;l++)s[l]=e[l];let c=(i+1)%r,a=(i+1)%r;for(;s.includes(null);)s.includes(n[a])||(s[c]=n[a],c=(c+1)%r),a=(a+1)%r;return s}swapMutate(e){const n=[...e],r=Math.floor(this.random()*n.length),o=Math.floor(this.random()*n.length);return[n[r],n[o]]=[n[o],n[r]],n}shiftMutate(e){const n=[...e];return n.push(n.shift()),n}cheatMutate(e){let n=this.shiftMutate(e),r=n,o=this.fitnessFunc(r);for(let s=1;s<e.length;s++){n=this.shiftMutate(n);const c=this.fitnessFunc(n);this.fitnessCompare(c,o)<0&&(o=c,r=n)}const i=[...r].reverse();return this.fitnessCompare(o,this.fitnessFunc(i))<0?i:r}evolve(){const e=[];for(let n=0;n<this.eliteSize;n++)e.push({genome:[...this.population[n].genome],fitness:this.population[n].fitness});for(;e.length<this.populationSize;){const n=this.tournamentSelect(),r=this.tournamentSelect();let o;if(this.random()<this.crossoverRate?o=this.orderCrossover(n.genome,r.genome):o=[...n.genome],this.random()<this.mutationRate){const s=this.random();s<.5?o=this.swapMutate(o):s<.7?o=this.shiftMutate(o):s<.9?o=[...o].reverse():o=this.cheatMutate(o)}const i=this.fitnessFunc(o);e.push({genome:o,fitness:i})}this.population=e,this.sortPopulation(),this.updateBest()}run(){this.initializePopulation();for(let e=0;e<this.generations&&(this.currentGeneration=e,this.onGeneration&&this.onGeneration({generation:e,bestFitness:this.population[0].fitness,bestGenome:this.population[0].genome,averageFitness:this.population.reduce((n,r)=>n+r.fitness,0)/this.population.length}),!(this.currentGeneration>this.peakGeneration+this.maxStagnation));e++)this.evolve();return{bestGenome:this.cheatMutate(this.bestIndividual),bestFitness:this.bestFitness,finalPopulation:this.population,peakGeneration:this.peakGeneration}}}function wo(t){const e=t.map(f=>W(f));if(e.length<2)return{totalDistance:0,avgAngleChange:0,maxAngleChange:0};let n=0,r=[],o=null;const i=[];for(let f=1;f<e.length;f++){const u=kt(e[f-1],e[f]);n+=u,i.push(u);const h=st(Z(e[f],e[f-1]));if(o&&u>0){const m=Math.max(-1,Math.min(1,wt(o,h))),k=Math.acos(m)*(180/Math.PI);r.push(k)}o=h}const s=n/(e.length-1),c=Math.sqrt(i.reduce((f,u)=>f+Math.pow(u-s,2),0)/(e.length-1)),a=r.length>0?r.reduce((f,u)=>f+u,0)/r.length:0,l=r.length>0?Math.max(...r):0;return{totalDistance:n,avgAngleChange:a,maxAngleChange:l,meanDistance:s,devDistance:c}}function yo(t){let e=0;for(let n=0;n<t.length-1;n++){const r=W(t[n]),o=W(t[n+1]);e+=kt(r,o)}return-e}function Mo(t,e){return e-t}function on(t,e=yo,n=Mo){let r=1;const o=()=>(r=r*16807%2147483647,r/2147483647),i=Math.min(40,Math.max(10,t.length))*5,s=t.length<50?250:Math.floor(31250*64/(i*t.length));return new ko({populationSize:i,generations:s,maxStagnation:t.length<50?20:10,mutationRate:.5,crossoverRate:.9,eliteSize:5,random:o,fitness:e,compare:n,seed:()=>[...t].sort(()=>o()-.5)}).run().bestGenome}function _o(t){const{avgAngleChange:e,maxAngleChange:n,totalDistance:r}=wo(t);return[-r,-e,-n]}function Lo(t,e,n=.01){for(let r=0;r<t.length;r++){const o=(t[r]+e[r])/2,i=Math.abs(o*n),s=e[r]-t[r];if(Math.abs(s)>i)return s}return e[0]-t[0]}function Co(t){return on(t,_o,Lo)}function yt(t,e=[1,1,1]){const n=new Map;for(let s=0;s<t.length;s++){const c=new Set;for(let a=0;a<t.length;a++)s!==a&&c.add({color:t[a],distance:g.deltaE(t[s],t[a],e[0],e[1],e[2])});n.set(t[s],c)}const r=[],o=new Set;function i(s){r.push(s),o.add(s);const c=[...n.get(s)].sort((a,l)=>a.distance-l.distance);for(const a of c)o.has(a.color)||i(a.color)}return i(t[0]),r}function Ao(t){const e=t.reduce((n,r)=>[n[0]+r[0],n[1]+r[1],n[2]+r[2]],[0,0,0]);return[e[0]/t.length,e[1]/t.length,e[2]/t.length]}function Eo(t,e){const n=t.length,r=[[0,0,0],[0,0,0],[0,0,0]];for(const o of t){const i=Z(o,e);for(let s=0;s<3;s++)for(let c=0;c<3;c++)r[s][c]+=i[s]*i[c]/n}return r}function No(t){let e=[1,1,1];for(let n=0;n<100;n++){const r=[t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2],t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2],t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2]];e=st(r)}return e}function ie(t){if(t.length===0)return[];const e=Ao(t),n=Eo(t,e),r=No(n);return[...t].sort((o,i)=>{const s=wt(Z(o,e),r),c=wt(Z(i,e),r);return s-c})}function Oo(t){return P(t,ie,"gl")}function So(t){return P(t,ie,"lab")}function sn(t){return P(t,ie,"oklab")}function vo(t,e){return g.deltaE(t,e)}function cn(t,e=vo){let n=!0;for(;n;){n=!1;for(let r=0;r<t.length-2;r++)for(let o=r+1;o<t.length-1;o++){const i=e(t[r],t[r+1])+e(t[o],t[o+1]);e(t[r],t[o])+e(t[r+1],t[o+1])<i&&(t=[...t.slice(0,r+1),...t.slice(r+1,o+1).reverse(),...t.slice(o+1)],n=!0)}}return t}function xo(t){let e=yt(t);return cn(e)}function $o(t){const e=t.map(i=>W(i)),n=e.length,r=e.reduce((i,s)=>[i[0]+s[0],i[1]+s[1],i[2]+s[2]],[0,0,0]).map(i=>i/n);return e.reduce((i,s)=>[i[0]+(s[0]-r[0])**2,i[1]+(s[1]-r[1])**2,i[2]+(s[2]-r[2])**2],[0,0,0]).map(i=>Math.sqrt(i/n)||1e-6)}function Bo(t){const e=$o(t);return(n,r)=>{const o=W(n),i=W(r);return Math.hypot((o[0]-i[0])/e[0],(o[1]-i[1])/e[1],(o[2]-i[2])/e[2])}}function Ro(t){const e=Bo(t),n=sn(t);return cn(n,e)}function ce(t){const e=t.map(l=>g(l).lab()),n=e.reduce((l,[f])=>l+f,0)/e.length,r=e.map(l=>g.lab(l).lch()),o=r.reduce((l,[,f])=>l+f,0)/r.length,i=Po(r.map(([,,l])=>l).filter(l=>!Number.isNaN(l))),s=e.reduce((l,[f])=>l+Math.pow(f-n,2),0)/e.length,c=r.reduce((l,[,f])=>l+Math.pow(f-o,2),0)/r.length,a=Do(r.map(([,,l])=>l).filter(l=>!Number.isNaN(l)),i);return{L:Math.sqrt(s),C:Math.sqrt(c),H:Math.sqrt(a),meanC:o,meanH:i}}function Po(t){if(t.length===0)return 0;const e=t.filter(i=>!Number.isNaN(i)).map(i=>i*Math.PI/180),n=e.reduce((i,s)=>i+Math.sin(s),0),r=e.reduce((i,s)=>i+Math.cos(s),0);let o=Math.atan2(n/t.length,r/t.length)*(180/Math.PI);return o<0&&(o+=360),o}function Do(t,e){return t.length===0?0:t.map(r=>{let o=r-e;return o>180&&(o-=360),o<-180&&(o+=360),o*o}).reduce((r,o)=>r+o,0)/t.length}function an(t,e){const n=Math.max(Number.EPSILON,e.L+e.C+(e.H??0));return{Kl:(n-e.L)/(2*n),Kc:(n-e.C)/(2*n),Kh:(n-e.H)/(2*n)}}function Go(t){const e=ce(t),{Kc:n,Kh:r,Kl:o}=an(t,e);return yt(t,[o,n,r])}function Ko(t){const e=ce(t),{Kc:n,Kh:r,Kl:o}=an(t,e);return yt(t,[o,n,r+.5])}function Ho(t){let e=0,n=0,r=0;for(const[u,h,m]of t)e+=u,n+=h,r+=m;const o=e/t.length,i=n/t.length,s=r/t.length;let c=0,a=0,l=0;const f=[];for(const[u,h,m]of t){const k=Math.abs(u-o)/(u+o)||0,N=Math.abs(h-i)/(h+i)||0,p=Math.abs(m-s)/(m+s)||0;c+=k,a+=N,l+=p,f.push(k+N+p)}return[c,a,l,f]}function zo(t){const e=Ho(t.map(n=>g(n).lch().map(r=>r||0)));return yt(t,e)}function Io(t){const{Kl:e,Kc:n,Kh:r}=ln(t);return yt(t,[e,n,r])}class jo{constructor(e){this.value=e,this.color=g(e)}hex(){return this.color.hex()}rgb(){return this.color.rgb()}cmyk(){return this.color.cmyk()}hsl(){return this.color.hsl()}hcl(){return this.color.hcl()}oklch(){return this.color.oklch()}oklab(){return W(this.value)}lab(){return this.color.lab()}toString(){return this.hex()}}class Yo{constructor(e){this.edges={},this.colors=new Set,this.representation=e}addColor(e){this.edges[e]=[],this.colors.forEach(n=>this.link(e,n)),this.colors.add(e)}link(e,n){this.edges[e].push(n),this.edges[n].push(e)}harmonize(){if(this.colors.size===0)return[];const e=[...this.colors.values()];e.sort((o,i)=>o.color.luminance()-i.color.luminance());let n=e.pop();const r=new Set([n]);for(;r.size<this.colors.size;){const i=this.edges[n].filter(s=>!r.has(s)).map(s=>({color:s,distance:g.distance(n.color,s.color,this.representation.label)}));i.sort((s,c)=>s.distance-c.distance),n=i[0].color,r.add(n)}return[...r.values()]}}function at(t,e){const n=new Yo(e);return t.forEach(r=>n.addColor(new jo(r))),n.harmonize().map(r=>g(r[e.label](),e.label).hex())}function To(t){return at(t,{label:"hsl",points:e=>{const[n,r,o]=e.hsl();return[n/360||0,r/100,o/100]}})}function qo(t){return at(t,{label:"hcl",points:e=>e.hcl().map((n,r)=>(n||0)*[1/360,1/100,1/100][r])})}function Xo(t){return at(t,{label:"oklch",points:e=>e.oklch().map((n,r)=>(n||0)*[1/200,1/100,1/360][r])})}function Fo(t){return at(t,{label:"oklab",points:e=>e.oklab()})}function Wo(t){return at(t,{label:"lab",points:e=>e.lab().map((n,r)=>(n||0)*[1/100,1/95,1/115][r])})}function Zo(t){return at(t,{label:"rgb",points:e=>e.rgb().map(n=>n/255)})}function Vo(t){return at(t,{label:"cmyk",points:e=>e.cmyk().map(n=>n/255)})}function ln(t){const e=ce(t),n=t.map(u=>g(u).lab()),r=n.map(u=>g.lab(u).lch()),o=n.map(([u])=>u),i=r.map(([,u])=>u),s=r.map(([,,u])=>u),c=Math.max(...o)-Math.min(...o),a=Math.max(...i)-Math.min(...i),l=Uo(s.filter(u=>!Number.isNaN(u))),f={...e,lightnessRange:c,chromaRange:a,hueSpread:l};return l>180&&e.H>70&&e.L<80?{Kl:.5,Kc:1,Kh:2,type:"Rainbow",data:f}:c>50&&e.L>20&&l<30?{Kl:2,Kc:.5,Kh:.5,type:"Monochromatic",data:f}:a>50&&e.C>15&&l<60?{Kl:.5,Kc:2,Kh:1,type:"Wide Chroma",data:f}:e.H<15&&e.L<15&&e.C<15?{Kl:1.2,Kc:1.2,Kh:1.2,type:"Uniform",data:f}:{Kl:1,Kc:1,Kh:1,type:"Balanced",data:f}}function Uo(t){if(t.length===0)return 0;const e=[...t].sort((o,i)=>o-i);let n=0;for(let o=0;o<e.length-1;o++){const i=e[o+1]-e[o];n=Math.max(n,i)}const r=360-(e[e.length-1]-e[0]);return n=Math.max(n,r),360-n}function fn(t,e,n,r=1e6){const o=kt(t,e),i=st(Z(e,t));let s=o;if(n){const a=(1-wt(n,i))*r;s=o*(1+a)}return{score:s,direction:i}}function un(t,e,n,r=[1,1,1],o=1e6){const i=g.deltaE(nn(t),nn(e),...r),s=kt(t,e)*i/128,c=st(Z(e,t));let a=s;if(n){const f=(1-wt(n,c))*o;a=s*(1+f)}return{score:a,direction:c}}function $t(t,e,n){const r=new Set(t),o=[];let[i,s]=e;o.push(i,s),r.delete(i),r.delete(s);let c=st(Z(i,s)),a=st(Z(s,i));for(;r.size>0;){let l=[];for(const u of r){const h=n(i,u,c),m=n(s,u,a),k=Math.min(h.score,m.score);l.push({candidate:u,scoreStart:h,scoreEnd:m,minScore:k})}l.sort((u,h)=>u.minScore-h.minScore);const f=l[0];f.scoreStart.score<=f.scoreEnd.score?(o.unshift(f.candidate),c=f.scoreStart.direction,i=f.candidate):(o.push(f.candidate),a=f.scoreEnd.direction,s=f.candidate),r.delete(f.candidate)}return o}function Jo(t){return P(t,e=>$t(e,uo(e),fn),"oklab")}function Qo(t){return P(t,e=>$t(e,oe(e),fn),"oklab")}function ts(t){return P(t,e=>$t(e,oe(e),un),"oklab")}function es(t){const{Kl:e,Kc:n,Kh:r}=ln(t),o=[e,n,r],i=(s,c,a)=>un(s,c,a,o);return P(t,s=>$t(s,oe(s),i),"oklab")}function hn(t,e="hsl",n="bottom-up"){return t.map(o=>({rgb:o,hsl:g(o).get(e)})).sort((o,i)=>{const[s,c,a]=o.hsl,[l,f,u]=i.hsl;switch(n){case"bottom-up":return Math.abs(a-u)>.05?a-u:Math.abs(s-l)>5?s-l:c-f;case"top-down":return Math.abs(a-u)>.05?u-a:Math.abs(s-l)>5?s-l:c-f;case"outward":return Math.abs(c-f)>.05?c-f:Math.abs(s-l)>5?s-l:a-u;case"inward":return Math.abs(c-f)>.05?f-c:Math.abs(s-l)>5?s-l:a-u;default:return 0}}).map(o=>o.rgb)}function dn(t,e="hsl",n="ascending"){const r=t.map(o=>{const i=g(o).get(e),s=i[2]*360+i[0];return{rgb:o,hsl:i,spiralParam:s}});return r.sort((o,i)=>{const s=n==="ascending"?o.spiralParam-i.spiralParam:i.spiralParam-o.spiralParam;return Math.abs(s)<1?o.hsl[1]-i.hsl[1]:s}),r.map(o=>o.rgb)}function V(t,e){const n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function bn(t){const e=t.reduce((n,r)=>[n[0]+r[0],n[1]+r[1],n[2]+r[2]],[0,0,0]);return[e[0]/t.length,e[1]/t.length,e[2]/t.length]}function ns(t,e,n="average"){switch(n){case"single":let r=1/0;for(const i of t.colors)for(const s of e.colors)r=Math.min(r,V(i,s));return r;case"complete":let o=0;for(const i of t.colors)for(const s of e.colors)o=Math.max(o,V(i,s));return o;default:return V(t.centroid,e.centroid)}}function rs(t,e="average"){let n=t.map(r=>({colors:[r],centroid:r,distance:0}));for(;n.length>1;){let r=1/0,o=0,i=1;for(let c=0;c<n.length;c++)for(let a=c+1;a<n.length;a++){const l=ns(n[c],n[a],e);l<r&&(r=l,o=c,i=a)}const s={colors:[...n[o].colors,...n[i].colors],left:n[o],right:n[i],centroid:bn([...n[o].colors,...n[i].colors]),distance:r};n=n.filter((c,a)=>a!==o&&a!==i),n.push(s)}return n[0]}function et(t,e="balanced"){if(!t.left&&!t.right||!t.left||!t.right)return t.colors;switch(e){case"depth-first":return[...et(t.left,e),...et(t.right,e)];case"breadth-first":return t.left.colors.length<=t.right.colors.length?[...et(t.left,e),...et(t.right,e)]:[...et(t.right,e),...et(t.left,e)];default:const n=et(t.left,e),r=et(t.right,e),o=V(n[n.length-1],r[0]),i=V(r[r.length-1],n[0]);return o<=i?[...n,...r]:[...r,...n]}}function ae(t,e="average",n="balanced"){if(t.length===0)return[];if(t.length===1)return t;const r=rs(t,e);return et(r,n)}function os(t,e){return[...t].sort(()=>Math.random()-.5).slice(0,e)}function ss(t,e){return t.map(n=>{let r=1/0,o=0;return e.forEach((i,s)=>{const c=V(n,i);c<r&&(r=c,o=s)}),o})}function is(t,e,n){const r=[];for(let o=0;o<n;o++){const i=t.filter((s,c)=>e[c]===o);i.length>0?r.push(bn(i)):r.push(t[Math.floor(Math.random()*t.length)])}return r}function le(t,e=8,n=50){if(t.length===0)return[];if(t.length<=e)return t;let r=os(t,e),o=[];for(let a=0;a<n;a++){const l=ss(t,r);if(JSON.stringify(l)===JSON.stringify(o))break;o=l,r=is(t,o,e)}const i=Array.from({length:e},()=>[]);t.forEach((a,l)=>{i[o[l]].push(a)});const s=i.map((a,l)=>({cluster:a,centroid:r[l]})).filter(a=>a.cluster.length>0).sort((a,l)=>{const f=a.centroid[0]+a.centroid[1]+a.centroid[2],u=l.centroid[0]+l.centroid[1]+l.centroid[2];return f-u}),c=[];for(const{cluster:a,centroid:l}of s){const f=a.sort((u,h)=>V(u,l)-V(h,l));c.push(...f)}return c}function mn(t,e,n){const r=[],o=t[e];return t.forEach((i,s)=>{V(o,i)<=n&&r.push(s)}),r}function fe(t,e=30,n=3){if(t.length===0)return[];const r=new Set,o=[],i=[];t.forEach((c,a)=>{if(r.has(a))return;r.add(a);const l=mn(t,a,e);if(l.length<n)i.push(a);else{const f=[],u=[...l];for(;u.length>0;){const h=u.shift();if(!r.has(h)){r.add(h);const m=mn(t,h,e);m.length>=n&&u.push(...m)}f.push(h)}o.push(f)}}),o.sort((c,a)=>{const l=c.reduce((u,h)=>{const m=t[h];return u+m[0]+m[1]+m[2]},0)/c.length,f=a.reduce((u,h)=>{const m=t[h];return u+m[0]+m[1]+m[2]},0)/a.length;return l-f});const s=[];for(const c of o){const a=new Set(c),l=[];let f=c[0];for(l.push(f),a.delete(f);a.size>0;){let u=-1,h=1/0;for(const m of a){const k=V(t[f],t[m]);k<h&&(h=k,u=m)}if(u!==-1)l.push(u),a.delete(u),f=u;else break}s.push(...l.map(u=>t[u]))}return s.push(...i.map(c=>t[c])),s}function cs(t){return P(t,ae,"gl")}function as(t){return P(t,ae,"lab-norm")}function ls(t){return P(t,ae,"oklab")}function fs(t){return P(t,le,"gl")}function us(t){return P(t,le,"lab-norm")}function hs(t){return P(t,le,"oklab")}function ds(t){return P(t,fe,"gl")}function bs(t){return P(t,fe,"lab-norm")}function ms(t){return P(t,fe,"oklab")}const x={PCA:["PCA","Principal component analysis","https://en.wikipedia.org/wiki/Principal_component_analysis"],HIL:["HIL","Hilbert curve","https://en.wikipedia.org/wiki/Hilbert_curve"],GEN:["GEN","Genetic algorithm","https://en.wikipedia.org/wiki/Genetic_algorithm"],TSP:["TSP","Travelling salesman problem","https://en.wikipedia.org/wiki/Travelling_salesman_problem"],NNA:["NNA","Nearest neighbour algorithm","https://en.wikipedia.org/wiki/Nearest_neighbour_algorithm"],"2-OPT":["2-OPT","2-opt","https://en.wikipedia.org/wiki/2-opt"],MOM:["MON","Greedy with momentum"," https://en.wikipedia.org/wiki/Greedy_algorithm"]},v={RGB:["RGB","https://en.wikipedia.org/wiki/RGB_color_model"],LAB:["CIELAB","https://en.wikipedia.org/wiki/CIELAB_color_space"],OKLAB:["Oklab","https://en.wikipedia.org/wiki/Oklab_color_space"],HSL:["HSL","https://en.wikipedia.org/wiki/HSL_and_HSV"],HCL:["HCL","https://en.wikipedia.org/wiki/HCL_color_space"],OKLCH:["Oklch","https://en.wikipedia.org/wiki/Oklab_color_space"],CMYK:["CMYK","https://en.wikipedia.org/wiki/CMYK_color_model"]},nt={DE:["DE","Delta E","http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html"]},ps=[{name:"HSL",fn:To,speed:2,mid:"HSL",description:{model:v.HSL}},{name:"HCL",fn:qo,speed:2,mid:"HCL",description:{model:v.HCL}},{name:"Oklch",fn:Xo,speed:3,mid:"Oklch",description:{model:v.OKLCH}},{name:"Oklab",fn:Fo,speed:3,mid:"Oklab",description:{model:v.OKLAB}},{name:"Lab",fn:Wo,speed:2,mid:"Lab",description:{model:v.LAB}},{name:"RGB",fn:Zo,speed:1,mid:"RGB",description:{model:v.RGB}},{name:"CMYK",fn:Vo,speed:1,mid:"CMYK",description:{model:v.CMYK}},{name:"NNA(Delta E)",fn:yt,speed:3,mid:"NNA(DE) Lab",description:{method:x.NNA,model:v.LAB,diff:nt.DE}},{name:"NNA(Delta E+)",fn:zo,speed:3,mid:"NNA(DE+) Lab",description:{method:x.NNA,model:v.LAB,diff:nt.DE}},{name:"NNA(Delta E++)",fn:Io,speed:3,mid:"NNA(DE++) Lab",description:{method:x.NNA,model:v.LAB,diff:nt.DE}},{name:"NNA(Delta E+1)",fn:Go,speed:3,mid:"NNA(DE+1) Lab",description:{method:x.NNA,model:v.LAB,diff:nt.DE}},{name:"NNA(Delta E+2)",fn:Ko,speed:3,mid:"NNA(DE+2) Lab",description:{method:x.NNA,model:v.LAB,diff:nt.DE}},{name:"TSP(Delta E) Lab",fn:xo,speed:5,mid:"TSP(DE)-Lab",description:{method:[x.TSP,x["2-OPT"]],model:v.LAB,diff:nt.DE}},{name:"TSP(PCA(Delta E+)) Lab",fn:Ro,speed:2,mid:"TSP(PCA(DE+))-Lab",description:{method:[x.TSP,x["2-OPT"],x.PCA],model:v.LAB,diff:nt.DE}},{name:"MOM(Closest) Oklab",fn:Jo,speed:1,mid:"MOM(Closest)-Oklab",description:{method:x.MOM,model:v.OKLAB}},{name:"MOM(Inlinest) Oklab",fn:Qo,speed:3,mid:"MOM(Inlinest)-Oklab",description:{method:x.MOM,model:v.OKLAB}},{name:"MOM(Inlinest, Delta E) Oklab",fn:ts,speed:4,mid:"MOM(Inlinest,DE)-Oklab",description:{method:x.MOM,model:v.OKLAB,diff:nt.DE}},{name:"MOM(Inlinest, Delta E++) Oklab",fn:es,speed:4,mid:"MOM(Inlinest,DE++)-Oklab",description:{method:x.MOM,model:v.OKLAB,diff:nt.DE}},{name:"Genetic Oklab",fn:on,speed:5,mid:"GEN3-Oklab",description:{method:x.GEN,model:v.OKLAB}},{name:"Genetic3 Oklab",fn:Co,speed:6,mid:"GEN3-Oklab",description:{method:x.GEN,model:v.OKLAB}},{name:"Hilbert RGB",fn:mo,speed:1,mid:"HIL-RGB",description:{method:x.HIL,model:v.RGB}},{name:"Hilbert Lab",fn:go,speed:1,mid:"HIL-Lab",description:{method:x.HIL,model:v.LAB}},{name:"Hilbert Oklab",fn:po,speed:1,mid:"HIL-Oklab",description:{method:x.HIL,model:v.OKLAB}},{name:"PCA RGB",fn:Oo,speed:1,mid:"PCA-RGB",description:{method:x.PCA,model:v.RGB}},{name:"PCA Lab",fn:So,speed:1,mid:"PCA-Lab",description:{method:x.PCA,model:v.LAB}},{name:"PCA Oklab",fn:sn,speed:1,mid:"PCA-Oklab",description:{method:x.PCA,model:v.OKLAB}},{name:"Spiral HSL",fn:hn,speed:1,mid:"SPI-HSL",description:{}},{name:"Spiral Oklch",fn:t=>hn(t,"oklch"),speed:1,mid:"SPI-Oklch",description:{}},{name:"Cylindrical HSL",fn:dn,speed:1,mid:"CYL-HSL",description:{}},{name:"Cylindrical Oklch",fn:t=>dn(t,"oklch"),speed:1,mid:"CYL-Oklch",description:{}},{name:"Cluster RGB",fn:cs,speed:1,mid:"CL-RGB",description:{}},{name:"Cluster LAB",fn:as,speed:1,mid:"CL-LAB",description:{}},{name:"Cluster Oklab",fn:ls,speed:1,mid:"CL-Oklab",description:{}},{name:"K-means RGB",fn:fs,speed:1,mid:"KM-RGB",description:{}},{name:"K-means LAB",fn:us,speed:1,mid:"KM-LAB",description:{}},{name:"K-means Oklab",fn:hs,speed:1,mid:"KM-Oklab",description:{}},{name:"DBSCAN RGB",fn:ds,speed:1,mid:"DBSCAN-RGB",description:{}},{name:"DBSCAN LAB",fn:bs,speed:1,mid:"DBSCAN-LAB",description:{}},{name:"DBSCAN Oklab",fn:ms,speed:1,mid:"DBSCAN-Oklab",description:{}}];async function gs(t){const e=performance.now(),n=await t(),r=performance.now()-e;return{result:n,elapsed:r}}self.onmessage=async t=>{const{sortName:e,palette:n}=t.data,r=ps.find(a=>a.name===e).fn,{result:o,elapsed:i}=await gs(async()=>await r(n)),s=W(o[0]),c=W(o.at(-1));s[0]>c[0]&&o.reverse(),self.postMessage({result:o,elapsed:i})}})();
